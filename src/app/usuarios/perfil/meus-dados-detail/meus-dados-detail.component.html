<div class="" id="profile-main">
    <div class="card col-md-12 m-b-10">
        <div class="col-md-4">
            <div class="pmb-block no-padding">
                <div class="card-header pmbb-header">
                    <h2><i class="zmdi zmdi-image-o m-r-10"></i> Alterar Imagem</h2>
                </div>
                <div class="card-block pmbb-body p-l-30" id="profile-main" style="min-height: 275px;">
                    <div class="pmo-pic" style="margin: 0px; padding: 0; ">
                        <div class="p-relative">
                            <a>
                                <img class="img-responsive" [src]="usuario?.imagem" alt="">
                            </a>
                            <div class="dropdown pmop-message">
                                <input type="file" style="display: none;" #fileEvent (change)="changeListenerImagem($event)">
                                <a (click)="fileEvent.click()" style="z-index: 999;" class="btn bgm-white btn-float z-depth-1">
                                    <i class="zmdi zmdi-camera"></i>
                                </a>
                            </div>
                        </div>
                        <div class="pmo-stat">
                            <h2 class="m-0 c-white">{{usuario?.name}}</h2>
                            {{usuario?.status}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8" >
            <div class="pmb-block">
                <div class="card-header pmbb-header">
                    <h2><i class="zmdi zmdi-account m-r-10"></i> Informações Básicas</h2>
                    <ul class="actions m-t-20">
                        <li class="dropdown">
                            <a href="" data-toggle="dropdown">
                                <i class="zmdi zmdi-more-vert"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li>
                                    <a data-ma-action="profile-edit" href="">Editar</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="pmbb-body p-l-30">
                    <div class="pmbb-view">
                        <dl class="dl-horizontal">
                            <dt>Nome</dt>
                            <dd>{{usuario?.name}}</dd>
                        </dl>
                        <dl class="dl-horizontal">
                            <dt>Email</dt>
                            <dd>{{usuario?.email}}</dd>
                        </dl>
                        <dl class="dl-horizontal">
                            <dt>Recebe Newsletter</dt>
                            <dd>{{usuario?.chk_newsletter?'sim':'não'}}</dd>
                        </dl>
                        <dl class="dl-horizontal">
                            <dt>Status</dt>
                            <dd>{{usuario?.status}}</dd>
                        </dl>
                    </div>

                    <form [formGroup]="saveForm"  (ngSubmit)="update(saveForm.value)">
                        <div class="pmbb-edit">
                            <dl class="dl-horizontal">
                                <dt class="p-t-10">Nome</dt>
                                <dd>
                                    <div class="fg-line">
                                        <input type="text"  [formControl]="saveForm.controls['name']" class="form-control input-sm" placeholder="Nome">
                                    </div>
                                    <app-error-message [erros]="saveForm.controls['name']"></app-error-message>
                                </dd>
                            </dl>
                            <dl class="dl-horizontal">
                                <dt class="p-t-10">Email</dt>
                                <dd>
                                    <div class="fg-line">
                                        <input type="text" readonly [formControl]="saveForm.controls['email']" class="form-control input-sm" placeholder="E-mail">
                                    </div>
                                    <app-error-message [erros]="saveForm.controls['email']"></app-error-message>
                                </dd>
                            </dl>
                            <dl class="dl-horizontal">
                                <dt class="p-t-10">Newsletter</dt>
                                <dd>
                                    <div class="toggle-switch toggle-switch-demo" style="margin-top: 9px !important;">
                                        <label for="ts1" class="ts-label"></label>
                                        <input id="ts1" [formControl]="saveForm.controls['chk_newsletter']"  [value]=""  type="checkbox" hidden="hidden">
                                        <label for="ts1" class="ts-helper"></label>
                                    </div>
                                    <app-error-message [erros]="saveForm.controls['chk_newsletter']"></app-error-message>
                                </dd>
                            </dl>
                            <div class="m-t-30">
                                <button class="btn btn-primary btn-sm">Salvar</button>
                                <button #perfilButton data-ma-action="profile-edit-cancel" class="btn btn-link btn-sm">Cancelar</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="pmb-block">
                <div class="card-header pmbb-header">
                    <h2><i class="zmdi zmdi-lock m-r-10"></i> Alterar Senha</h2>
                    <ul class="actions">
                        <li class="dropdown">
                            <a href="" data-toggle="dropdown">
                                <i class="zmdi zmdi-more-vert"></i>
                            </a>

                            <ul class="dropdown-menu dropdown-menu-right">
                                <li>
                                    <a data-ma-action="profile-edit" href="">Editar</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="pmbb-body p-l-30">
                    <div class="pmbb-view">
                        <dl class="dl-horizontal">
                            <dt>Senha</dt>
                            <dd>*********</dd>
                        </dl>
                    </div>
                    <form [formGroup]="_fbSenha"  (ngSubmit)="updateSenha(_fbSenha.value)">
                        <div class="pmbb-edit">
                            <dl class="dl-horizontal">
                                <dt class="p-t-10">Senha Antiga</dt>
                                <dd>
                                    <div class="fg-line">
                                        <input type="password" [formControl]="_fbSenha.controls['old_password']" class="form-control input-sm" placeholder="Senha">
                                    </div>
                                    <app-error-message [erros]="_fbSenha.controls['old_password']"></app-error-message>
                                </dd>
                            </dl>
                            <dl class="dl-horizontal">
                                <dt class="p-t-10">Nova Senha</dt>
                                <dd>
                                    <div class="fg-line">
                                        <input type="password" [formControl]="_fbSenha.controls['new_password']" class="form-control input-sm" placeholder="Senha">
                                    </div>
                                    <app-error-message [erros]="_fbSenha.controls['new_password']"></app-error-message>
                                </dd>
                            </dl>
                            <dl class="dl-horizontal">
                                <dt class="p-t-10">Confirmar Senha</dt>
                                <dd>
                                    <div class="fg-line">
                                        <input type="password" [formControl]="_fbSenha.controls['new_password_confirmation']" class="form-control input-sm" placeholder="Confirmar Senha">
                                    </div>
                                    <app-error-message [erros]="_fbSenha.controls['new_password_confirmation']"></app-error-message>
                                </dd>
                            </dl>
                            <div class="m-t-15">
                                <button class="btn btn-primary btn-sm">Salvar</button>
                                <button #senhaButton data-ma-action="profile-edit-cancel" class="btn btn-link btn-sm">Cancelar</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="card col-md-12 m-b-10">
        <div id="dados-pessoais" class="pmb-block">
            <div class="card-header pmbb-header">
                <h2><i class="zmdi zmdi-image-o m-r-10"></i> Dados Pessoais</h2>
            </div>
            <div class="card-body">
                <form [formGroup]="_fbPessoa"  (ngSubmit)="updatePessoa(_fbPessoa.value)">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>CPF/CNPJ</label>
                            <input type="text" [formControl]="_fbPessoa.controls['cpf_cnpj']" class="form-control" placeholder="Ex: 999.999.999-99">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['cpf_cnpj']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Necessidade Especial</label>
                            <input type="text" class="form-control" [formControl]="_fbPessoa.controls['nec_especial']" placeholder="Ex: Cadeirante">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['nec_especial']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Data de Nascimento</label>
                            <p-calendar formControlName="data_nascimento" [monthNavigator]="true" yearRange="1949:2009" [yearNavigator]="true" dateFormat="dd/mm/yy" ></p-calendar>
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['data_nascimento']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Escolaridade</label>
                            <input type="text" [formControl]="_fbPessoa.controls['escolaridade']" class="form-control" placeholder="Ex: 04/09/1990">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['escolaridade']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>RG</label>
                            <input type="text" class="form-control" [formControl]="_fbPessoa.controls['rg']" placeholder="Ex: 827.852">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['rg']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Orgão Emissor</label>
                            <input type="text" class="form-control" [formControl]="_fbPessoa.controls['orgao_emissor']" placeholder="Ex: SSP/TO">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['orgao_emissor']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Estado Civil</label>
                            <input type="text" class="form-control" [formControl]="_fbPessoa.controls['estado_civil']" placeholder="Ex: Casado">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['estado_civil']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Nome Fantasia</label>
                            <input type="text" class="form-control" [formControl]="_fbPessoa.controls['fantasia']" placeholder="Ex: Empresa texte">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['fantasia']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Contato</label>
                            <input type="text" class="form-control" [formControl]="_fbPessoa.controls['contato']" placeholder="Ex: Contato">
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['contato']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Sexo</label>
                            <select [formControl]="_fbPessoa.controls['sexo']" class="form-control selectpickerAr">
                                <option [value]="">Selecione o Sexo</option>
                                <option [value]="1">Masculino</option>
                                <option [value]="2">Feminino</option>
                            </select>
                        </div>
                        <app-error-message [erros]="_fbPessoa.controls['sexo']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <button class="btn btn-primary btn-sm">Salvar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="card col-md-12 m-b-10">
        <div id="documentos" class="pmb-block">
            <div class="card-header pmbb-header" style="margin: 0;">
                <h2><i class="zmdi zmdi-image-o m-r-10"></i> Documentos</h2>
            </div>
            <div class="card-body">
                <div class="row-large m-t-10">
                    <div class="col-xs-4">
                        <ul class="list-unstyled">
                            <li *ngFor="let item of documentos?.validacao" class="text-danger m-b-10">
                                <span *ngIf="item.status != 'aceito'"><b>{{item.label}}: </b> {{item.status_label}}</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <form [formGroup]="_fbDocumento"  (ngSubmit)="uploadDocumentos(_fbDocumento.value)">
                    <div class="row-large m-t-10">
                        <div class="col-xs-4">
                            <div class="fg-line">
                                <label>
                                    Tipo Documento
                                </label>
                                <p-dropdown [options]="tipoDocumentos" formControlName="transporte_tipo_documento_id"></p-dropdown>
                            </div>
                            <app-error-message [erros]="_fbDocumento.controls['transporte_tipo_documento_id']"></app-error-message>
                        </div>
                        <div class="col-xs-4">
                            <div class="fg-line">
                                <label>
                                    Arquivo
                                </label>
                                <input type="file" #arquivo (change)="changeListener($event)" class="form-control input-sm" placeholder="">
                            </div>
                            <app-error-message [erros]="_fbDocumento.controls['arquivo']"></app-error-message>
                        </div>
                        <div class="col-xs-4">
                            <div class="fg-line">
                                <button class="btn btn-primary btn-sm m-t-20">Salvar</button>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="row-large m-t-10">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>Tipo</th>
                                <th>status</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let item of documentos?.data" >
                                <td>{{item.tipo}}</td>
                                <td>{{item.status}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card col-md-12 m-b-10">
        <div id="documentos" class="pmb-block">
            <div class="card-header pmbb-header" style="margin: 0;">
                <h2><i class="zmdi zmdi-car m-r-10"></i> Veículo</h2>
            </div>
            <div class="card-body">
                <form [formGroup]="_fbVeiculo"  (ngSubmit)="updateVeiculo(_fbVeiculo.value)">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Marca</label>
                            <!--<input type="text" [formControl]="_fbVeiculo.controls['marca']" class="form-control" placeholder="Ex: Fiat">-->
                            <p-dropdown [formControl]="_fbVeiculo.controls['transporte_marca_carro_id']" filter="filter" [options]="marcasCarro" (onChange)="loadModelos($event)" placeholder="Selecione a marca"></p-dropdown>
                        </div>
                        <app-error-message [erros]="_fbVeiculo.controls['transporte_marca_carro_id']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Modelo</label>
                            <!--<input type="text" class="form-control" [formControl]="_fbVeiculo.controls['modelo']" placeholder="Ex: Uno">-->
                            <p-dropdown [formControl]="_fbVeiculo.controls['transporte_modelo_carro_id']" filter="filter" [options]="modelosCarro" placeholder="Selecione o modelo"></p-dropdown>
                        </div>
                        <app-error-message [erros]="_fbVeiculo.controls['transporte_modelo_carro_id']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Ano</label>
                            <input type="text" class="form-control" [formControl]="_fbVeiculo.controls['ano']" placeholder="Ex: 2010">
                        </div>
                        <app-error-message [erros]="_fbVeiculo.controls['ano']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Placa do veículo</label>
                            <input type="text" [formControl]="_fbVeiculo.controls['placa']" class="form-control" placeholder="Ex: mmm000">
                        </div>
                        <app-error-message [erros]="_fbVeiculo.controls['placa']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Cor do veículo</label>
                            <!--<input type="text" class="form-control" [formControl]="_fbVeiculo.controls['cor']" placeholder="Ex: preto">-->
                            <p-dropdown [formControl]="_fbVeiculo.controls['cor']" [options]="cores" placeholder="Selecione a cor"></p-dropdown>
                        </div>
                        <app-error-message [erros]="_fbVeiculo.controls['cor']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Arquivo</label>
                            <input type="file" #arquivoz (change)="changeListenerVeiculo($event)" class="form-control input-sm" placeholder="">
                        </div>
                        <app-error-message [erros]="_fbVeiculo.controls['arquivo']"></app-error-message>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <button class="btn btn-primary btn-sm">Salvar</button>
                        </div>
                    </div>
                </form>
                <div class="row-large m-t-10">
                    <div class="card-header pmbb-header" style="margin: 0; float: left;">
                        <h2><i class="zmdi zmdi-car m-r-10"></i> Meus Veículos</h2>
                    </div>
                </div>
                <div class="row-large m-t-10">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Marca</th>
                                    <th>Modelo</th>
                                    <th>Placa</th>
                                    <th>Ano</th>
                                    <th>Cor</th>
                                    <th>Status</th>
                                    <th>Atualizar Documento</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of meusVeiculos?.data" >
                                    <td>{{item.marca}}</td>
                                    <td>{{item.modelo}}</td>
                                    <td>{{item.placa}}</td>
                                    <td>{{item.ano}}</td>
                                    <td>{{item.cor}}</td>
                                    <td>{{item.status}}</td>
                                    <td>
                                        <input #arquivo_index type="file" (change)="chengeupdate(item.id, $event)" class="hidden">
                                        <button class="btn btn-primary btn-sm" (click)="arquivo_index.click()"> <i class="zmdi zmdi-plus"></i> Reenviar Documento</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>